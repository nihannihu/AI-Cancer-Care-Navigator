<!DOCTYPE html>
<html>
<head>
    <title>QR Code Display Test</title>
</head>
<body>
    <h1>QR Code Display Test</h1>
    
    <div class="qr-container">
        <img id="qr-code-img" class="qr-code-img" alt="Patient QR Code" style="display: none;">
        <p id="qr-message" style="color: #94a3b8;">Loading QR code...</p>
    </div>
    
    <button onclick="testQRDisplay()">Test QR Display</button>
    
    <script>
        function testQRDisplay() {
            // Simulate what would come from the backend
            const mockData = {
                qr_code: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg=="
            };
            
            console.log('QR Code data:', mockData.qr_code);
            const qrImg = document.getElementById('qr-code-img');
            console.log('QR Img element:', qrImg);
            
            if (mockData.qr_code && qrImg) {
                qrImg.src = mockData.qr_code;
                qrImg.style.display = 'block';
                console.log('QR code displayed successfully');
                document.getElementById('qr-message').style.display = 'none';
            } else {
                console.log('No QR code data received or QR image element not found');
                if (qrImg) {
                    qrImg.style.display = 'none';
                }
                const qrContainer = document.querySelector('.qr-container');
                if (qrContainer) {
                    if (!mockData.qr_code) {
                        document.getElementById('qr-message').textContent = 'QR code not available';
                    }
                }
            }
        }
    </script>
</body>
</html>